<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:input="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Details of a course info</title>
    <!-- Header -->
    <div th:replace="base :: header"></div>
    <!-- /.Header -->
</head>
<body>
    <!--Navigation Teacher-->
    <nav th:replace="base :: nav2Teacher"></nav>
    <!--/.Navigation Teacher-->
    <div class="container">

        <h2 th:inline="text">Course information for: [[${course.courseName}]] (crn:[[${course.crn}]])</h2>
        <!--If the Instructor is not assigned to the course yet, this div will display Instructor: null null:-->
        <h3 th:text="'Instructor: ' + ${courseInstructor.firstName} + ' ' +${courseInstructor.lastName}"></h3>
        <p><a th:href="@{/teacher/listallcourses}">Back to my course</a></p>
        <br />

        <p th:text="'Course ID: ' + ${course.id}"/>
        <p th:text="'Course Name: '+ ${course.courseName}" />
        <p th:text="'Course CRN:' + ${course.crn}"/>
        <p th:text="'Course StartDate:' + ${{course.startDate}}"/>
        <p th:text="'Course EndDate:' + ${{course.endDate}}"/>
        <p th:text="'Course Status:' + ${course.status}"/>
        <hr/>

        <div class="center">
            <a th:href="@{/teacher/addstudentstocourse/{id}(id=${course.id})}">Register students for the course</a>
            -
            <a th:href="@{/teacher/courseend/{id}(id=${course.id})}">Course has Ended</a>
            -
            <a th:href="@{/teacher/displayallevalsofonecourse/{id}(id=${course.id})}">See Course Evaluations</a>
            -
            <a th:href="@{/teacher/attforonecourse/{id}(id=${course.id})}">See Attendance Record</a>

        </div>
        <hr />


        <h2>List of students who registered for the course: </h2>


        <!--warning message panel if student list is empty-->
        <div  th:if="${studentsofACourse.isEmpty()}">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <div class="panel-title">No Students Taking Course!</div>
                    <div class="panel-body">
                        <p><a th:href="@{/teacher/addstudentstocourse/{id}(id=${course.id})}">Register students for the course</a></p>
                    </div>
                </div>
            </div>
        </div>

        <div  th:if="${!studentsofACourse.isEmpty()}">

            <p><a th:href="@{/teacher/markattendance/{courseId}(courseId=${course.id})}">Mark Attendance</a></p>


            <table class="table table-striped" border="1">
                <tr>
                    <!--<td><strong>ID</strong></td>-->
                    <td><strong>M Number</strong></td>
                    <td><strong>First Name</strong></td>
                    <td><strong>Last Name</strong></td>
                    <td><strong>Email Address</strong></td>
                    <td><strong>Start Date</strong></td>
                    <td><strong>Student Status</strong></td>
                    <td><strong>Action</strong></td>
                </tr>
                <!--iterate through all the students for this course-->

                <tr th:each="alls:${studentsofACourse}">
                    <!--<td th:text="${alls.id}"></td>-->
                    <td th:text="${alls.mNumber}"></td>
                    <td th:text="${alls.firstName}"></td>
                    <td th:text="${alls.lastName}"></td>
                    <td th:text="${alls.email}"></td>
                    <td th:text="${{alls.startDate}}"></td>
                    <td th:text="${alls.active}"></td>
                    <td>
                        <a th:href="@{/admin/removestudentfromcourse/{courseid}/{studentid}(courseid=${course.id}, studentid=${alls.id})}">Remove</a>

                        <!--<a th:href="@{/admin/course/{courseid}/removestudentfromcourse/{studentid}(studentid=${alls.id},courseid=${course.id})}">Remove</a>-->
                    </td>
                </tr>
            </table>
            <p><a th:href="@{/teacher/listallstudents/{courseId}/(courseId=${course.id})}">See and validate students</a></p>
            <hr />
        </div>

        <br/>

        <!--<p><a th:href="@{/teacher/displayoneeval/{id}(id=${course.id})}"> see evaluation</a></p>-->




    </div>
    <!-- Footer -->
    <div th:replace="base :: footer"></div>
    <!-- /.Footer -->
</body>
</html>